---
// Redirect to language-prefixed URL
import { getLanguage } from '../../i18n/index';

const lang = getLanguage();
---

<script define:vars={{ lang }}>
  // Client-side redirect with language detection
  const savedLang = localStorage.getItem('lang');
  const browserLang = navigator.language.split('-')[0];
  const supportedLangs = ['ko', 'en', 'ja'];

  let targetLang = savedLang || (supportedLangs.includes(browserLang) ? browserLang : 'ko');

  window.location.replace(`/${targetLang}/games/`);
</script>

<meta http-equiv="refresh" content="0;url=/ko/games/" />
