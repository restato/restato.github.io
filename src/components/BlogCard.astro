---
interface Props {
  title: string;
  description: string;
  date: Date;
  slug: string;
  tags?: string[];
  image?: string;
}

const { title, description, date, slug, tags = [], image } = Astro.props;

const formattedDate = date.toLocaleDateString('ko-KR', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});
---

<article class="card group hover:border-primary-500/50">
  <a href={`/blog/${slug}`} class="block">
    {image && (
      <img
        src={image}
        alt={title}
        class="w-full h-48 object-cover rounded-lg mb-4 -mt-2"
      />
    )}
    <div class="flex items-center gap-2 text-sm text-[var(--color-text-muted)] mb-2">
      <time datetime={date.toISOString()}>{formattedDate}</time>
    </div>
    <h3 class="text-xl font-bold mb-2 group-hover:text-primary-500 transition-colors">
      {title}
    </h3>
    <p class="text-[var(--color-text-muted)] line-clamp-2 mb-4">
      {description}
    </p>
    {tags.length > 0 && (
      <div class="flex flex-wrap gap-2">
        {tags.map((tag) => (
          <span class="text-xs px-2 py-1 rounded-full bg-primary-500/10 text-primary-500">
            #{tag}
          </span>
        ))}
      </div>
    )}
  </a>
</article>
