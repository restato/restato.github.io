---
interface Tool {
  slug: string;
  title: string;
  description: string;
  icon: string;
  category: string;
}

interface Props {
  currentSlug: string;
  currentCategory: string;
}

const { currentSlug, currentCategory } = Astro.props;

const allTools: Tool[] = [
  // Generators
  { slug: 'qr-code', title: 'QR ì½”ë“œ ìƒì„±ê¸°', description: 'URLì´ë‚˜ í…ìŠ¤íŠ¸ë¥¼ QR ì½”ë“œë¡œ ë³€í™˜', icon: 'ğŸ“±', category: 'generators' },
  { slug: 'password', title: 'ë¹„ë°€ë²ˆí˜¸ ìƒì„±ê¸°', description: 'ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ ìƒì„±', icon: 'ğŸ”', category: 'generators' },
  { slug: 'uuid', title: 'UUID ìƒì„±ê¸°', description: 'UUID v4 ìƒì„±', icon: 'ğŸ”‘', category: 'generators' },
  { slug: 'lorem-ipsum', title: 'Lorem Ipsum ìƒì„±ê¸°', description: 'ë”ë¯¸ í…ìŠ¤íŠ¸ ìƒì„±', icon: 'ğŸ“', category: 'generators' },
  { slug: 'color-palette', title: 'ìƒ‰ìƒ íŒ”ë ˆíŠ¸ ìƒì„±ê¸°', description: 'ì¡°í™”ë¡œìš´ ìƒ‰ìƒ íŒ”ë ˆíŠ¸ ìƒì„±', icon: 'ğŸ¨', category: 'generators' },
  { slug: 'hash', title: 'í•´ì‹œ ìƒì„±ê¸°', description: 'MD5, SHA-1, SHA-256 í•´ì‹œ ìƒì„±', icon: '#ï¸âƒ£', category: 'generators' },
  // Converters
  { slug: 'color', title: 'ìƒ‰ìƒ ë³€í™˜ê¸°', description: 'HEX, RGB, HSL ìƒ‰ìƒ ë³€í™˜', icon: 'ğŸŒˆ', category: 'converters' },
  { slug: 'unit', title: 'ë‹¨ìœ„ ë³€í™˜ê¸°', description: 'ê¸¸ì´, ë¬´ê²Œ, ì˜¨ë„ ë‹¨ìœ„ ë³€í™˜', icon: 'ğŸ“', category: 'converters' },
  { slug: 'base64', title: 'Base64 ì¸ì½”ë”/ë””ì½”ë”', description: 'í…ìŠ¤íŠ¸ë¥¼ Base64ë¡œ ì¸ì½”ë”©/ë””ì½”ë”©', icon: 'ğŸ”„', category: 'converters' },
  { slug: 'image-converter', title: 'ì´ë¯¸ì§€ í¬ë§· ë³€í™˜ê¸°', description: 'JPEG, PNG, WebP í¬ë§· ê°„ ë³€í™˜', icon: 'ğŸ–¼ï¸', category: 'image' },
  // Text
  { slug: 'text-counter', title: 'í…ìŠ¤íŠ¸ ì¹´ìš´í„°', description: 'ê¸€ììˆ˜, ë‹¨ì–´ìˆ˜, ì¤„ìˆ˜ ì„¸ê¸°', icon: 'ğŸ”¢', category: 'text' },
  { slug: 'markdown', title: 'ë§ˆí¬ë‹¤ìš´ ë¯¸ë¦¬ë³´ê¸°', description: 'ë§ˆí¬ë‹¤ìš´ ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°', icon: 'ğŸ“„', category: 'text' },
  { slug: 'diff', title: 'í…ìŠ¤íŠ¸ ë¹„êµê¸°', description: 'ë‘ í…ìŠ¤íŠ¸ì˜ ì°¨ì´ì  ë¹„êµ', icon: 'ğŸ“Š', category: 'developer' },
  // Developer
  { slug: 'json', title: 'JSON í¬ë§¤í„°', description: 'JSON í¬ë§¤íŒ… ë° ê²€ì¦', icon: '{ }', category: 'developer' },
  { slug: 'regex', title: 'ì •ê·œì‹ í…ŒìŠ¤í„°', description: 'ì •ê·œì‹ í…ŒìŠ¤íŠ¸ ë° ë§¤ì¹˜ í™•ì¸', icon: 'ğŸ”', category: 'developer' },
  { slug: 'url-encoder', title: 'URL ì¸ì½”ë”/ë””ì½”ë”', description: 'URL ë¬¸ìì—´ ì¸ì½”ë”©/ë””ì½”ë”©', icon: 'ğŸ”—', category: 'developer' },
  { slug: 'jwt-decoder', title: 'JWT ë””ì½”ë”', description: 'JWT í† í° ë””ì½”ë”© ë° ë¶„ì„', icon: 'ğŸ«', category: 'developer' },
  { slug: 'cron', title: 'Cron í‘œí˜„ì‹ ìƒì„±ê¸°', description: 'Cron í‘œí˜„ì‹ ìƒì„± ë° ì„¤ëª…', icon: 'â°', category: 'developer' },
  // Designer
  { slug: 'gradient', title: 'CSS ê·¸ë¼ë°ì´ì…˜ ìƒì„±ê¸°', description: 'CSS ê·¸ë¼ë°ì´ì…˜ ì‹œê°ì  ìƒì„±', icon: 'ğŸŒˆ', category: 'designer' },
  { slug: 'box-shadow', title: 'CSS Box Shadow ìƒì„±ê¸°', description: 'CSS box-shadow ì‹œê°ì  ìƒì„±', icon: 'ğŸ­', category: 'designer' },
  // Photographer
  { slug: 'image-resizer', title: 'ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì €', description: 'ì´ë¯¸ì§€ í¬ê¸° ì¡°ì ˆ ë° ì••ì¶•', icon: 'ğŸ“', category: 'image' },
  { slug: 'exif', title: 'EXIF ì •ë³´ ë·°ì–´', description: 'ì‚¬ì§„ EXIF ë©”íƒ€ë°ì´í„° í™•ì¸', icon: 'ğŸ“·', category: 'image' },
  // Marketer
  { slug: 'utm', title: 'UTM ë§í¬ ìƒì„±ê¸°', description: 'ìº í˜ì¸ ì¶”ì ìš© UTM ë§í¬ ìƒì„±', icon: 'ğŸ“Š', category: 'marketer' },
  // Productivity
  { slug: 'timer', title: 'íƒ€ì´ë¨¸ / ìŠ¤í†±ì›Œì¹˜', description: 'íƒ€ì´ë¨¸ì™€ ìŠ¤í†±ì›Œì¹˜', icon: 'â±ï¸', category: 'productivity' },
  { slug: 'pomodoro', title: 'í¬ëª¨ë„ë¡œ íƒ€ì´ë¨¸', description: 'í¬ëª¨ë„ë¡œ ê¸°ë²•ìœ¼ë¡œ ìƒì‚°ì„± í–¥ìƒ', icon: 'ğŸ…', category: 'productivity' },
  { slug: 'world-clock', title: 'ì„¸ê³„ ì‹œê³„', description: 'ì „ ì„¸ê³„ ì‹œê°„ëŒ€ í™•ì¸ ë° ë³€í™˜', icon: 'ğŸŒ', category: 'productivity' },
];

// ê°™ì€ ì¹´í…Œê³ ë¦¬ì˜ ë„êµ¬ ìš°ì„ , ê·¸ ë‹¤ìŒ ë‹¤ë¥¸ ì¹´í…Œê³ ë¦¬
const relatedTools = allTools
  .filter(tool => tool.slug !== currentSlug)
  .sort((a, b) => {
    if (a.category === currentCategory && b.category !== currentCategory) return -1;
    if (a.category !== currentCategory && b.category === currentCategory) return 1;
    return 0;
  })
  .slice(0, 4);
---

<section class="mt-12 pt-8 border-t border-[var(--color-border)]">
  <h2 class="text-xl font-bold text-[var(--color-text)] mb-6 flex items-center gap-2">
    <span>ğŸ”§</span> ê´€ë ¨ ë„êµ¬
  </h2>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    {relatedTools.map((tool) => (
      <a
        href={`/tools/${tool.slug}`}
        class="group flex items-center gap-4 p-4 rounded-xl
          bg-[var(--color-card)] border border-[var(--color-border)]
          hover:border-primary-500 hover:shadow-md transition-all"
      >
        <span class="text-2xl">{tool.icon}</span>
        <div class="flex-1 min-w-0">
          <h3 class="font-semibold text-[var(--color-text)] group-hover:text-primary-500 transition-colors">
            {tool.title}
          </h3>
          <p class="text-sm text-[var(--color-text-muted)] truncate">
            {tool.description}
          </p>
        </div>
        <svg class="w-5 h-5 text-[var(--color-text-muted)] group-hover:text-primary-500 transition-colors flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </a>
    ))}
  </div>
</section>
